<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Relatório</title>
    <link rel="stylesheet" href="../css/relatorio.css">
</head>
<body>

 <header>
    <div class="lado-esquerdo">
        <img class="logo-vitoria" src="../images/Logo-Vitoria.png">
    </div>
 </header>

  <div>
    <div class="texto-adicionar">
        <h1 class="texto">Relatórios</h1>
    </div>
 
    <div class="corpo-central">
        <div  class="button-container">
            <button onclick="window.location.href='/relatorio/verrelatorio'">Ver Relatórios</button>
            <button onclick="document.getElementById('fileInput').click()">Upload de Relatórios</button>
            <input id="fileInput" type="file" style="display:none" onchange="uploadFile()" />
        </div>
    </div>


    <script>
        function uploadFile() {
            // Obtem o elemento input de tipo file
            var fileInput = document.getElementById('fileInput');
            // Verifica se um arquivo foi selecionado
            if (fileInput.files.length > 0) {
                // Cria um objeto FormData para enviar o arquivo como parte do formulário
                var formData = new FormData();
                formData.append('file', fileInput.files[0]);

                // Envia a solicitação para o backend
                fetch('/relatorio/uploadrelatorio', {
                    method: 'POST',
                    body: formData
                })
                .then(response => {
                    // Lidar com a resposta do backend, se necessário
                    console.log(response);
                })
                .catch(error => {
                    // Lidar com erros, se necessário
                    console.error(error);
                });
            }
        }
    </script>
    </div>
    <div class="botao-voltar">
        <button class="center" onclick="window.location.href='/home'">Voltar à Página Inicial</button>
    </div>

    <footer>
        <div class="rodape">
          <P>
            
          </P>
        </div>
    </footer>

</body>
</html>
